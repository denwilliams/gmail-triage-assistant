{{define "labels"}}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Labels - Gmail Triage Assistant</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
</head>
<body>
	{{template "nav" .}}
	<main class="container">
		<article>
			<h2>Label Management</h2>
			<p>Configure labels that the AI can apply to your emails.</p>

			<h3>Create New Label</h3>
			<form method="POST" action="/labels/create">
				<label>
					Label Name
					<input type="text" name="name" placeholder="e.g., Work, Personal, Newsletter" required>
				</label>
				<label>
					Description (helps AI understand when to use this label)
					<textarea name="description" placeholder="e.g., Work-related emails from colleagues and clients" rows="3"></textarea>
				</label>
				<button type="submit">Create Label</button>
			</form>
		</article>

		<article>
			<h3>Your Labels</h3>
			<table>
				<thead>
					<tr>
						<th>Name</th>
						<th>Description</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					{{if .Labels}}
						{{range .Labels}}
						<tr>
							<td><strong>{{.Name}}</strong></td>
							<td>{{.Description}}</td>
							<td>
								<form method="POST" action="/labels/{{.ID}}/delete" style="margin: 0;">
									<button type="submit" class="secondary" onclick="return confirm('Delete this label?')">Delete</button>
								</form>
							</td>
						</tr>
						{{end}}
					{{else}}
						<tr><td colspan="3"><em>No labels configured yet</em></td></tr>
					{{end}}
				</tbody>
			</table>
		</article>
	</main>
</body>
</html>
{{end}}
